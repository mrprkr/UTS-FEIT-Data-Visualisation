var dataUrl="assets/data/data.json",data=[],getData=function(){var a=$.get(dataUrl,function(a){console.log("Data has been loaded"),data=a,console.log(data)}).done(function(){console.log("success"),printData()}).fail(function(){console.log("error")}).always(function(){console.log("finished")})},printData=function(){for(x in data)createSquares(data[x][1]);update()},createSquares=function(a){$(".view").append("<div class='square'><div class='font'>"+Math.round(a)+"</div></div>")},update=function(){var a=0,t=1e4;for(x in data)data[x][1]>a&&(a=data[x][1]),data[x][1]<t&&(t=data[x][1]);for(x in data){var o=Math.round((a-data[x][1])*(255/(a-t)));console.log(o),$(".square").eq(x).css("background-color","rgb(0, 0, "+o+")")}console.log("lowest: "+t+", highest: "+a)};$(document).ready(function(){getData()});